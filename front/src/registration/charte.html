<!doctype html>
<html ng-app="app" lang="en">
<head>
  <meta charset="UTF-8">
  <title>API PARTICULIER</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <link rel="stylesheet" href="css/landingPage.css">
  <link rel="stylesheet" href="css/main.css">
  <base href="/">
</head>
<body>
  <div id="wrapper">
    <div id="content">
      <!-- Navigation -->
      <nav class="navbar navbar-default topnav" role="navigation">
          <div class="container topnav">
              <!-- Brand and toggle get grouped for better mobile display -->
              <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <ul class="nav navbar-nav">
                  <li><img class="logo" src="img/logo_marianne.png" alt="Accueil - apiparticulier.sgmap.fr"></li>
                  <li><a ui-sref="landingPage" class="navbar-brand title" title="Accueil - apiparticulier.sgmap.fr" href="/">API Particulier</a></li>
                </ul>
              </div>
              <!-- Collect the nav links, forms, and other content for toggling -->
              <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                  <ul class="nav navbar-nav navbar-right">
                      <li>
                          <a href="mailto:apiparticulier@sgmap.fr">Contactez-nous</a>
                      </li>
                      <li>
                        <a href="/docs">
                          <i class="fa fa-book fa-fw"></i>
                          <span>Documentation</span>
                        </a>
                      </li>
                      <li>
                        <a href="https://github.com/sgmap/api-particulier">
                          <i class="fa fa-github fa-fw"></i>
                          <span>Sources</span>
                        </a>
                      </li>
                  </ul>
              </div>
              <!-- /.navbar-collapse -->
          </div>
          <!-- /.container -->
      </nav>

      <div class="container">
        <fieldset class="form-group">
          <legend>Vous êtes</legend>
          <div class="radio-type-wrapper">
            <div class="radio-type">
              <input type="radio" name="type" id="administration" value="administration"> <label for="administration">Une administration</label>
            </div>

            <div class="radio-type">
              <input type="radio" name="type" id="entreprise" value="entreprise"> <label for="entreprise">Une entreprise</label>
            </div>
          </div>
        </fieldset>

        <fieldset id="fieldset-entreprise" class="form-group" style="display:none;">
          <legend>Votre entreprise est <strong>prestataire d'une administration</strong> ou a une <strong>délégation de service public</strong></legend>
          <div class="radio-type-wrapper">
            <div class="radio-type">
              <input type="radio" name="delegation" id="delegation" value="delegation"> <label for="delegation">Oui</label>
            </div>

            <div class="radio-type">
              <input type="radio" name="delegation" id="no-delegation" value="no-delegation"> <label for="no-delegation">Non</label>
            </div>
          </div>
        </fieldset>

        <div id="text-invalid" class="panel panel-default" style="display:none;">
          <p class="lead">L'utilisation de l'API est pour l'instant réservée aux services publics.</p>
        </div>

        <div id="text-valid" class="panel panel-default" style="display:none;">
          <p class="lead">
            Merci de prendre connaissance de la <a href="/charte.pdf">convention d'adhésion d'API
            Particulier</a> afin de demander un jeton d'accès en décrivant votre
            projet.
            <br/>
            Un résumé est fait ci-dessous. Néamoins, il ne se substitue pas à
            la lecture de la <a href="/charte.pdf">convention d'adhésion</a>.
          </p>

          <div class="row">
            <div class="col-md-4">
              <ul class="list-group">
                <li href="" class="list-group-item list-group-item-success">
                  <h3>Vous pouvez :</h3>
                </li>
                <li class="list-group-item">
                  <h4 class="list-group-item-heading">Récupérer les données nécessaires à vos démarches</h4>
                  <p class="list-group-item-text">
                    Vous récupérez des données fiables que vous pouvez facilement intégrer
                    dans vos procesus d'instruction.
                  </p>
                </li>
                <li class="list-group-item">
                  <h4 class="list-group-item-heading">Afficher des données à l’usager</h4>
                  <p class="list-group-item-text">
                    Il est possible d'afficher des données à l’usager si elles ne
                    menacent pas sa vie privée. Par exemple, les tarifs de la cantine
                    après avoir été calculés à partir du quotient familial récupéré
                    auprès de la CAF.
                  </p>
                </li>
              </ul>
            </div>

            <div class="col-md-4">
              <ul class="list-group">
                <li href="" class="list-group-item list-group-item-info">
                  <h3>Vous devez :</h3>
                </li>
                <li class="list-group-item">
                  <h4 class="list-group-item-heading">Accepter la charte</h4>
                  <p class="list-group-item-text">
                    Cette charte vous donne droit à un jeton d'accès à l'API
                    Particulier pour récupérer des données fiables utiles à
                    vos démarches.
                  </p>
                </li>
                <li class="list-group-item">
                  <h4 class="list-group-item-heading">Traiter la bonne donnée par le bon agent de la collectivité</h4>
                  <p class="list-group-item-text">L'agent habilité du service
                    instructeur peut accéder aux données personnelles.
                  </p>
                </li>
                <li class="list-group-item">
                  <h4 class="list-group-item-heading">Informer correctement l’usager</h4>
                  <p class="list-group-item-text">Explicitement demander l'accord de
                    l'usager pour récupérer ses données auprès d'un fournisseur.
                  </p>
                </li>
              </ul>
            </div>

            <div class="col-md-4">
              <ul class="list-group">
                <li href="" class="list-group-item list-group-item-danger">
                  <h3>Vous ne pouvez pas :</h3>
                </li>
                <li class="list-group-item">
                  <h4 class="list-group-item-heading">Afficher des données confidentielles à l’usager</h4>
                  <p class="list-group-item-text">
                    L’usager n’étant pas authentifié, aucune garantie ne vous permet
                    d’afficher des données brutes récupérées auprès de l'API sans prendre le
                    risque de les dévoiler à un tiers.
                  </p>
                </li>
                <li class="list-group-item">
                  <h4 class="list-group-item-heading">Recupérer les informations par lot</h4>
                  <p class="list-group-item-text">
                    L’API Particulier propose du point à point, vous ne pouvez lancer
                    des récupérations de données en masse.
                  </p>
                </li>
              </ul>
            </div>
          </div>

          <form class="text-center">
            <label class="checkDroits lead">
              <input type="checkbox" id="checkCharte"> J'ai compris et j'accepte
              <a href="/charte.pdf" target="_blank"> la convention d’adhésion à d’API Particulier</a>
            </label>
          </form>

          <div class="text-right">
            <a id="next" class="btn btn-default btn-lg btn-primary disabled"
                href="registration/contact.html">
              Demandez un jeton
            </a>
          </div>
        </div>
      </div>

      <footer>
        <div class="container">
          <div class="row">
              <div class="center-block">
                    <p class="copyright text-muted small">
                      Fait au <a href="http://etatplateforme.modernisation.gouv.fr">SGMAP</a>.
                      Contact <a href="mailto:apiparticulier@sgmap.fr">apiparticulier@sgmap.fr</a>
                    </p>
                </div>
            </div>
        </div>
      </footer>
    </div>
  </div>
</body>

<script>
  document.querySelector('#administration').addEventListener('change', function(e) {
    var isChecked = e.target.checked;
    var valid = document.querySelector('#text-valid')
    var invalid = document.querySelector('#text-invalid')
    var fieldset = document.querySelector('#fieldset-entreprise')

    if(isChecked) {
      valid.style = "display:block;";
      invalid.style = "display:none;";
      fieldset.style = "display:none;";
    }
  })

  document.querySelector('#entreprise').addEventListener('change', function(e) {
    var isChecked = e.target.checked;
    var valid = document.querySelector('#text-valid')
    var invalid = document.querySelector('#text-invalid')
    var fieldset = document.querySelector('#fieldset-entreprise')

    if(isChecked) {
      valid.style = "display:none;";
      fieldset.style = "display:block;";
    }
  })

  document.querySelector('#delegation').addEventListener('change', function(e) {
    var isChecked = e.target.checked;
    var valid = document.querySelector('#text-valid')
    var invalid = document.querySelector('#text-invalid')

    if(isChecked) {
      valid.style = "display:block;";
      invalid.style = "display:none;";
    }
  })

  document.querySelector('#no-delegation').addEventListener('change', function(e) {
    var isChecked = e.target.checked;
    var valid = document.querySelector('#text-valid')
    var invalid = document.querySelector('#text-invalid')

    if(isChecked) {
      valid.style = "display:none;";
      invalid.style = "display:block;";
    }
  })
</script>

<script>
  document.querySelector('#checkCharte').addEventListener('change', function(e) {
    var isChecked = e.target.checked;
    var button = document.querySelector('#next')
    if(isChecked) {
      button.className = "btn btn-default btn-lg btn-primary";
    } else {
      button.className = "btn btn-default btn-lg btn-primary disabled";
    }
  })
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-70663242-1', 'auto');
  ga('send', 'pageview');

</script>
</html>
